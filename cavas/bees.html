<!DOCTYPE html>
<html>
	<head>
		<title>Space Shooter Demo</title>
		<style>
			canvas {
				position: absolute;
				top: 10px;
				left: 10px;
				background: transparent;
				border:1px solid #ddd;
			}
		</style>
        <script src="bee-canvas.js"></script>
	</head>
	<body onload="BEE.init()">
		<!-- The canvas for the panning background -->
		<canvas id="background" width="600" height="360">
		Your browser does not support canvas. Please try again with a different browser.
		</canvas>
		<!--<script src="bee.js"></script>-->
	</body>
</html>
<!-- 

function DrawCanvas(x,y,speed){
    	this.x = x
    	this.y = y 
    	this.speed = speed || 0
    	this.canvas = document.getElementById('background')
    	this.ctx = this.canvas.getContext("2d")
    }
    DrawCanvas.prototype.getCanvasWidth = function(){
    	return this.canvas.width
    }
    DrawCanvas.prototype.getCnavasHeight = function(){
    	return this.canvas.height	
    }
    DrawCanvas.prototype.clearCanvas = function(_x,_y,_w,_h){
        var x = _x || 0
            ,y = _y || 0
            ,w = _w || this.getCanvasWidth()
            ,h = _h || this.getCnavasHeight()
    	this.ctx.clearRect(x,y,w,h)
    }

    //loadbar
    function LoadBar(){
    	DrawCanvas.call(this)
    }
    extend(LoadBar,DrawCanvas)
    LoadBar.prototype.loadImage = function(fun){
    	var len = 0,srcArr = [],itemArr = [],imageObject = {},that = this
    	for(var item in imageSrc){
			itemArr.push(item)
    		srcArr.push(imageSrc[item])
    	}
    	function _loadImage(srcArr){
    		var temp = srcArr.splice(0,1)
    		if(temp.length === 0) return; 
    		var img = new Image()
            img.src = temp
            img.onload = function(){
            	imageObject[itemArr[len]] = this
	    		_loadImage(srcArr)
                that.createCircle( len * 100 / itemArr.length)
                len += 1
                if(len === itemArr.length){
                    that.createCircle(100)
                    fun(imageObject)
                }
            }
    	}
    	_loadImage(srcArr)
    }
    LoadBar.prototype.createCircle = function(degNum){
    	var centerX = this.getCanvasWidth() / 2
    		,centerY = this.getCnavasHeight() / 2
    		,radius = 60,deg = Math.PI * (2 * degNum / 100)
            ,that = this
            ,text = degNum === 100 ? 'success' : (degNum / 100).toFixed(2).slice(2,4) + '%'
        this.clearCanvas()
    	this.ctx.beginPath()
        this.ctx.moveTo(centerX,centerY)
        this.ctx.font = '16px Arial red'
    	this.ctx.arc(centerX,centerY,radius,0,deg,false);
        this.ctx.lineTo(centerX,centerY)
    	this.ctx.fillStyle = 'green';
        this.ctx.fill();
        this.ctx.fillStyle = 'red'
        this.ctx.fillText(text,centerX,centerY)
        // RAF(function(){
        //     if(degNum === 100) return
        //     degNum += 2
        //     that.createCircle(degNum)
        // })
    }
    LoadBar.prototype.startGame = function(fun){
        this.canvas.addEventListener('click',function(){
            alert(123)
        })
    }
    //sky
    function Background(){
    	DrawCanvas.call(this)
    }
    extend(Background,DrawCanvas)

 -->
